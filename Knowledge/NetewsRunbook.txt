---+ %TOPIC%

%TOC%

---+++ Variables


   * Set ac4vip=netewst51.adx.vip.ac4.yahoo.com

   * Set ch1vip=netews32.adx.vip.ch1.yahoo.com

   * Set stgvip=stgnetews21.ysm.vip.ac4.yahoo.com

   * Set status=

   * Set ac4rot=netewst51.apx.yahoodns.net 

   * Set ch1rot=netews32.apx.yahoodns.net

   * Set app=netews
   
   * Set stgapp=netews

---++ Overview
%H% This section provides an overview of your application, include a brief description of what the application does.

Apex Web Services PRD: http://twiki.corp.yahoo.com/pub/Apex/ApexPRDStoreLZCore/Apex_Web_Services_PRD_v3.0_20080109.pdf

Team Members: 
   * (old link) http://twiki.corp.yahoo.com/view/Apex/ApexApplicationWebServices#Team
   * http://twiki.corp.yahoo.com/view/Apex/AptEWSContacts
   * On-call Calender: http://twiki.corp.yahoo.com/view/Apex/LZApplicationOnCallCalendar



---++ Deployment Diagrams
%H% This section provides links to the location of environment-specific deployment diagrams.

   * Front End:        http://twiki.corp.yahoo.com/view/Apex/E2ELZDeploymentDiagramAppsFrontEndTop
   * Back End:         http://twiki.corp.yahoo.com/view/Apex/E2ELZDeploymentDiagramAppsBackEndTop

---++ Administration
%H% This section should provide instructions to perform the common administration procedures for your application.

   *  Start Procedure<pre style="border: thin solid; padding-left: 1em;">
   taxi bounce -start - -app netews -env ac4-prod-1 -user suarezv -parallel_hosts all
</pre>
   * Stop Procedure<pre style="border: thin solid; padding-left: 1em;">
   taxi bounce -stop - -app netews -env ac4-prod-1 -user suarezv -parallel_hosts all
</pre>
   * Restart Procedure<pre style="border: thin solid; padding-left: 1em;">
   taxi bounce -restart - -app netews -env ac4-prod-1 -user suarezv -parallel_hosts all
</pre>
   * How to check if service is running?
      * Verify the process is running: "ps -ef | grep java"
      * Check the vip: http://vipviewer.yahoo.com/view.php?val=76.13.104.55&searchtype=vs&submit=Submit
      * Check that a single box under the vip is working: https://##HOSTNAME##/netews/status.html
   * How to take a machine out of rotation?
    <pre style="border: thin solid; padding-left: 1em;">yinst deac in_rotation</pre>
   * Error Log Location?
   <pre style="border: thin solid; padding-left: 1em;">/home/y/logs/jboss/server.log</pre>
   * Some examples to invoke the service (web or commandline)?
      * Check that a single box under the vip is working: https://netews51.adx.vip.ac4.yahoo.com/netews/status.html
      * Verify that wsdls are being served: https://netews51.adx.vip.ac4.yahoo.com/services/V1/SiteService?wsdl (both requests can be applied to test a single box as well)
   * Some examples (web or commandline) to look at environment variables? 
      * SET Role for NETEWS
         * http://igor.corp.yahoo.com/igor/ui/role/members?role=ysm.set.ac4-prod-1.netews
      * APP Role for NETEWS
         * http://igor.corp.yahoo.com/igor/ui/role/members?role=ysm.app.netews
---++ Service Level Agreements (SLAs)
%H% This section should link to SLAs defined for your application.

| *Component* | *SLA Metric* | *SLA Target* | *I/E* |
| | | | |

__Legend:__

   * *Component*: Identify the component or "System" for overall system SLA
   * *SLA Metric*: Identify what is measured by the SLA.
   * *SLA Target*: Identify the target value. 
   * *I/E*: Specify whether the SLA is internal or external.

---++ Escalation Procedure for Critical Alerts
%H% This section describes the escalation procedure and contact schedule for critical alerts.

   * Production Engineering Contact info (ilist and/or hierarchical personnel contact info including pager).  
      * on call schedule:
      * ilist:
   * Engineering contact info (ilist and/or hierarchical personnel contact info including pager).
      * on call schedule:
      * ilist:
   * Product Contact info (ilist and/or hierarchical personnel contact info including pager).
      * ilist:

---++ Application Criticality Rating (ACR) and Recovery Time Objective (RTO)
%H% This section should provide information about your ACRs and RTOs down to the component level.  The definition of the various ACRs and RTO levels can be found at http://bcp.corp.yahoo.com/.<br />
Information can be found here: http://twiki.corp.yahoo.com/view/Apex/OperabilityCertificationQuestionnaireNetworkApplication#OcqBcpAcrAndRto
---++ Alerts & Associated Procedures
%H% This section should describe any alerts or warnings that are generated by your monitoring, grouped by severity.  For each alert, there must be a separate page which describes the alert, alert verification steps, resolution steps, and fix verification steps.  Use the form below to create new procedure documentation for your alert.  Don't for

%TWISTY{showlink="Create New Alert Procedure" showimgleft="%ICONURLPATH{toggleopen-small}%" hideimgleft="%ICONURLPATH{toggleclose-small}%" hidelink="Create New Alert Procedure" mode="div" remember="off" firststart="hide" start=hide"}% 
<blockquote>

__Naming Convention:__ Please use the following naming convention when naming your TWiki Page: {System}{ Serving | Data | Apps }{Application}Alert{AlertCode}

   * System = Apex, Panama, etc.
   * Serving, Data, or Apps
   * Application Name
   * Alert Code / Alert Identifier

<form name="new" action="%SCRIPTURLPATH{edit}%/%WEB%/">
__New Alert Procedure TWiki Topic:__
     <input type="text" name="topic" value="{System}{ Serving | Data | Apps }{Application}Alert{AlertCode}" size="70" />
     <input type="hidden" name="templatetopic" value="SAProdEng.SopRunBookAlertTemplate" />
     <input type="hidden" name="topicparent" value="%TOPIC%" />
     <input type="hidden" name="onlywikiname" value="on" />
     <input type="hidden" name="onlynewtopic" value="on" />
     <input type="submit" class="twikiSubmit" value="Create" />
</form>

%X% After you document your new alert procedure, don't forget to add a link to it in the list below.
</blockquote>
%ENDTWISTY%

   * Emergency Alerts
      * < name of alert > - < link to alert detail page >
   * Critical Alerts
      * < name of alert > - < link to alert detail page >

---++ Current Issues
%H% This section should describe known recurring issues with your application, and the associated triage required for these issues.

---++ BCP Runbooks
%H% This section should provide links to the BCP runbooks. 

---+++ Primary/BCP Locations
%H% This section lists the primary locations where your application resides.  For each location, indicate the market(s) served, and the designated BCP location.

| *Primary* | *BCP* | *Market(s)* |
| AC4 | | |

---+++ Critical Dependencies
%H% List your critical dependencies and indicate the action required if a failure occurs; link to procedures where applicable.

| *Dependency* | *Action* | *Link to Procedure* |
| POD, COLO, GL, POW DB | Page on call DBA | |
| Pricing | | |
| GeoApi Server | | |
| Audit Trail -SDS | Minors_dh_Bridge? Client on call needs to be paged | |
| IMS | | |
| Reporting Server | | |
| !MobStor/MediaStore | confirm access to mediastore | <ul><li> check hostname are present in the [[http://roles.corp.yahoo.com/ui/role?action=view&id=33072][mobstor.apex.prod]] rolesdb</li><li> =telnet yca.corp.yahoo.com 4080= </li></ul> |
| ^ | certificates | <ul><li>confirm with [[http://backyard.yahoo.com/tools/g/employee/profile?user_id=rbector][Rajeev]]/[[http://backyard.yahoo.com/tools/g/employee/profile?user_id=surajach][Suraj]] if real certs are installed on ads.zenfs.com</li><li>checking yca certificates</li><ul><li><verbatim>/home/y/bin/yca-cert-util --show | grep apex</verbatim> </li></ul><li>refresh yca certificates</li><ul><li> =/home/y/bin/yca-cert-util --refresh --debug= </li></ul></ul> |
| ^ | mediastore folders | <ul><li>Check with [[http://backyard.yahoo.com/tools/g/employee/profile?user_id=rbector][Rajeev]] or [[http://backyard.yahoo.com/tools/g/employee/profile?user_id=surajach][Suraj]] to create /apex/mediastore folders on ads.zenfs.com</li></ul> |
| DQM | Contact DQM Team - [[http://backyard.yahoo.com/tools/g/employee/profile?user_id=satyab][Satya Bantupalli]], [[http://backyard.yahoo.com/tools/g/employee/profile?user_id=settyv][Vageesh Setty]]| |
| Vespa Search Server | | |
| IMS | | |


---++ Monitoring
%H% This section should provide links to the monitoring for your application for each environment (within the sections below).  

   * Dashboard :
     [[[http://ac4-asoymon-002.ysm.corp.ac4.yahoo.com:9999/ygrapher/dashboard?dashboard=PRD%20netews][Production]]]
     [[[http://ac4-asoymon-002.ysm.corp.ac4.yahoo.com:9999/ygrapher/dashboard?dashboard=TRG%20netews][Training]]] 
     [[[http://ac4-asoymon-001.ysm.corp.ac4.yahoo.com:9999/ygrapher/dashboard?dashboard=STG2%20netews][Staging]]]
     [[[http://ac4-asoymon-001.ysm.corp.ac4.yahoo.com:9999/ygrapher/dashboard?dashboard=INT1%20netews][Integration]]]
   * Alerts :
     [[[http://ac4-asoymon-002.ysm.corp.ac4.yahoo.com:9999/nagios/APEXPROD/cgi-bin/status.cgi?hostgroup=netews&style=detail][Production]]]
     [[[http://ac4-asoymon-002.ysm.corp.ac4.yahoo.com:9999/nagios/APEXTRG/cgi-bin/status.cgi?hostgroup=netews_hosts&style=detail][Training]]] 
     [[[http://ac4-asoymon-001.ysm.corp.ac4.yahoo.com:9999/nagios/APEXSTG/cgi-bin/status.cgi?hostgroup=netews&style=detail][Staging]]]
     [[[http://ac4-asoymon-001.ysm.corp.ac4.yahoo.com:9999/nagios/APEXINT/cgi-bin/status.cgi?hostgroup=netews&style=detail][Integration]]]

Subscribe to Alerts:
   * ilist :
     [[[http://ilist.yahoo.com/wws/info/netews-alerts-prod?yc=O8K_SqcAWKxm3hdIe7I67g--][Prod]]]
     [[[http://ilist.yahoo.com/wws/info/netews-alerts-nonprod?yc=O8K_SqcAWKxm3hdIe7I67g--][Nonprod]]]

---+++ System Health Monitoring

%INCLUDE{"Apex.AptDeploymentCheckList"}%

---+++ Critical Host Monitoring
%H% This section should link to your critical host monitoring.<br />
YWatch Hardware Monitoring:<br/>
http://yw2.ops.ac4.yahoo.com:9999/ywatch.ops/?host=ac4-1netews-001.adx.ac4.yahoo.com<br/>
http://yw2.ops.ac4.yahoo.com:9999/ywatch.ops/?host=ac4-1netews-002.adx.ac4.yahoo.com<br/>
---+++ Capacity Monitoring
%H% This section should link to your capacity monitoring.

---+++ Metrics Monitoring
%H% This section should link to your metrics monitoring, and highlight the important metrics that should be looked at first.

---+++ SLA Monitoring
%H% This section should link to your SLA monitoring.<br />
Apex SLA twiki: http://twiki.corp.yahoo.com/view/SATG/TMApexSLAs
